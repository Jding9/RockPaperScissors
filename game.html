<html>
    <script>
        function computerPlay () { //returns either rock, paper, or scissors
            let newNum = Math.random();
            if (newNum > 2/3) {
                return "Rock";
            } else if (newNum > 1/3) {
                return "Paper"
            } else {
                return "Scissors"
            }
        }
        function playRound (playerInput, computerInput) { //plays 1 round
            let playerSelection = playerInput.toLowerCase();
            let computerSelection = computerInput.toLowerCase();
            switch (playerSelection, computerSelection) {
                case (playerSelection == computerSelection):
                    return "It's a tie!"
                case (playerSelection == "rock") && (computerSelection == "scissors"):
                case (playerSelection == "paper") && (computerSelection == "rock"):
                case (playerSelection == "scissors") && (computerSelection == "paper"):
                    return "You Win! " + convertString(playerSelection) + " beats " + convertString(computerSelection);
                default:
                    return "You Lose! " + convertString(computerSelection) + " beats " + convertString(playerSelection);
            }
        }
        function convertString (selection) { //changes first letter in a string to uppercase
            return selection.charAt(0).toUpperCase() + selection.substring(1);
        }
        function game() {
            var playerScore = 0;
            var computerScore = 0;
            for (var i = 0; i < 5; i++) { // play 5 rounds
                let playerInput = prompt();
                let computerInput = computerPlay();
                if (playRound(playerInput, computerInput) == "It's a tie") {
                    return;
                } else if (playRound(playerInput, computerInput).slice(0,8) == "You Win!") {
                    playerScore++;
                    return;
                } else {
                    computerScore++;
                    return;
                }
                console.log(playRound(playerInput, computerInput));
            }
            if (playerScore > computerScore) {
                console.log("You win!");
            } else if (computerScore > playerScore) {
                console.log("You lose!");
            } else {
                console.log("It's a tie!");
            }
        }
    </script>
</html>